<div *ngIf="auth.User | async; then authenticated; else noauthenticated"></div>
<ng-template #authenticated>
    <div *ngIf="auth.User | async as User">
        <div *ngIf="User.role === 'customer'">
            <app-navbar-user></app-navbar-user>
        </div>
        <div id="carouselExampleCaptions" data-ride="carousel" class="carousel slide">
            <ol class="carousel-indicators">
                <li data-target="#carouselExampleCaptions" data-slide-to="0" class="active">
                </li>
                <li data-target="#carouselExampleCaptions" data-slide-to="1">
                </li>
                <li data-target="#carouselExampleCaptions" data-slide-to="2">
                </li>
            </ol>
            <div class="carousel-inner">
                <div class="carousel-item active">
                    <img data-type="image" alt="First slide [800x400]" src="assets/slidehogar.ico" data-holder-rendered="true" class="d-block w-100" />
                    <div class="carousel-caption d-none d-md-block">
                        <h3 data-type="header">Todo para tu hogar
                        </h3>
                    </div>
                </div>
                <div class="carousel-item">
                    <img data-type="image" alt="Second slide [800x400]" src="assets/slideart.ico" data-holder-rendered="true" class="d-block w-100" />
                    <div class="carousel-caption d-none d-md-block">
                        <h3 data-type="header">Arte
                        </h3>
                        <p data-type="paragraph">Decora tu hogar
                        </p>
                    </div>
                </div>
                <div class="carousel-item">
                    <img data-type="image" alt="Third slide [800x400]" src="assets/slidetec.ico" data-holder-rendered="true" class="d-block w-100" />
                    <div class="carousel-caption d-none d-md-block">
                        <h3 data-type="header">Electrodomésticos
                        </h3>
                    </div>
                </div>
            </div>
            <a href="#carouselExampleCaptions" role="button" data-slide="prev" class="carousel-control-prev"><span aria-hidden="true" class="carousel-control-prev-icon"></span><span class="sr-only">Previous</span></a>
            <a href="#carouselExampleCaptions" role="button" data-slide="next" class="carousel-control-next"><span aria-hidden="true" class="carousel-control-next-icon"></span><span class="sr-only">Next</span></a>
        </div>

        <!-- DIV DE PROMOCIONES-->

        <div class="container c6640">
            <h1 data-type="header" class="display-4 text-center">Promociones
            </h1>
            <div class="row">
                <div *ngFor="let producto of productosPromocionales" class="col-md-4">
                    <div class="card mb-4 box-shadow">
                        <img data-type="image" height=300px width=300px src="{{producto.photoUrl}}" class="card-img-top" />
                        <div class="card-body">
                            <h3 data-type="header" class="mb-0">
                                {{producto.name}}
                            </h3>
                            <br>
                            <p data-type="text" class="card-text">Precio de promocion: {{producto.price}}</p>
                            <div *ngIf="producto.variacion != null">
                                <p data-type="text" class="card-text">Aplica unicamente para el producto de variacion {{producto.variacion}}</p>
                            </div>
                            <div *ngIf="producto.variacion == null">
                                <p data-type="text" class="card-text">Aplica unicamente para el producto que no posee variacion</p>
                            </div>
                            <div class="d-flex justify-content-between align-items-center">
                                <div class="btn-group">
                                    <button type="button" (click)="agregarCarrito(producto)" class="btn btn-sm btn-outline-secondary">Agregar Carrito</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="container c6640">
            <h1 data-type="header" class="display-4 text-center">Los más vendidos
            </h1>
            <div class="row">
                <div *ngFor="let producto of productosMasVendidos" class="col-md-4">
                    <div class="card mb-4 box-shadow">
                        <img data-type="image" height=300px width=300px src="{{producto.photoUrl}}" class="card-img-top" />
                        <div class="card-body">
                            <h3 data-type="header" class="mb-0">
                                <p class="text-dark"> {{producto.name}}</p>
                            </h3>
                            <br>
                            <p data-type="text" class="card-text">Se han vendido: {{producto.sold}}</p>
                            <p data-type="text" class="card-text">{{producto.description}}</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="container c6640">
            <h1 data-type="header" class="display-4 text-center">Recomendados
            </h1>
            <div class="row">
                <div *ngFor="let producto of productosRecomendados" class="col-md-4">
                    <div class="card mb-4 box-shadow">
                        <img data-type="image" height=300px width=300px src="{{producto.photoUrl}}" class="card-img-top" />
                        <div class="card-body">
                            <h3 data-type="header" class="mb-0 text-dark">
                                {{producto.name}}
                            </h3>
                            <br>
                            <p data-type="text" class="card-text">{{producto.description}}</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</ng-template>

<!-- Navbar para usuario no autenticado -->
<ng-template #noauthenticated>
    <app-navbar></app-navbar>
    <div id="carouselExampleCaptions" data-ride="carousel" class="carousel slide">
        <ol class="carousel-indicators">
            <li data-target="#carouselExampleCaptions" data-slide-to="0" class="active">
            </li>
            <li data-target="#carouselExampleCaptions" data-slide-to="1">
            </li>
            <li data-target="#carouselExampleCaptions" data-slide-to="2">
            </li>
        </ol>
        <div class="carousel-inner">
            <div class="carousel-item active">
                <img data-type="image" alt="First slide [800x400]" src="assets/slidehogar.ico" data-holder-rendered="true" class="d-block w-100" />
                <div class="carousel-caption d-none d-md-block">
                    <h3 data-type="header">Todo para tu hogar
                    </h3>
                </div>
            </div>
            <div class="carousel-item">
                <img data-type="image" alt="Second slide [800x400]" src="assets/slideart.ico" data-holder-rendered="true" class="d-block w-100" />
                <div class="carousel-caption d-none d-md-block">
                    <h3 data-type="header">Arte
                    </h3>
                    <p data-type="paragraph">Decora tu hogar
                    </p>
                </div>
            </div>
            <div class="carousel-item">
                <img data-type="image" alt="Third slide [800x400]" src="assets/slidetec.ico" data-holder-rendered="true" class="d-block w-100" />
                <div class="carousel-caption d-none d-md-block">
                    <h3 data-type="header">Electrodomésticos
                    </h3>
                </div>
            </div>
        </div>
        <a href="#carouselExampleCaptions" role="button" data-slide="prev" class="carousel-control-prev"><span aria-hidden="true" class="carousel-control-prev-icon"></span><span class="sr-only">Previous</span></a>
        <a href="#carouselExampleCaptions" role="button" data-slide="next" class="carousel-control-next"><span aria-hidden="true" class="carousel-control-next-icon"></span><span class="sr-only">Next</span></a>
    </div>

    <!-- DIV DE PROMOCIONES-->


    <div class="container c6640">
        <h1 data-type="header" class="display-4 text-center">Promociones
        </h1>
        <div class="row">
            <div *ngFor="let producto of productosPromocionales" class="col-md-4">
                <div class="card mb-4 box-shadow">
                    <img data-type="image" height=300px width=300px src="{{producto.photoUrl}}" class="card-img-top" />
                    <div class="card-body">
                        <h3 data-type="header" class="mb-0">
                            {{producto.name}}
                        </h3>
                        <br>
                        <p data-type="text" class="card-text">Precio de promocion: {{producto.price}}</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="container c6640">
        <h1 data-type="header" class="display-4 text-center">Los más vendidos
        </h1>
        <div class="row">
            <div *ngFor="let producto of productosMasVendidos" class="col-md-4">
                <div class="card mb-4 box-shadow">
                    <img data-type="image" height=300px width=300px src="{{producto.photoUrl}}" class="card-img-top" />
                    <div class="card-body">
                        <h3 data-type="header" class="mb-0">
                            <p class="text-dark"> {{producto.name}}</p>
                        </h3>
                        <br>
                        <p data-type="text" class="card-text">Se han vendido: {{producto.sold}}</p>

                        <p data-type="text" class="card-text">{{producto.description}}</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="container c6640">
        <h1 data-type="header" class="display-4 text-center">Recomendados
        </h1>
        <div class="row">
            <div *ngFor="let producto of productosRecomendados" class="col-md-4">
                <div class="card mb-4 box-shadow">
                    <img data-type="image" height=300px width=300px src="{{producto.photoUrl}}" class="card-img-top" />
                    <div class="card-body">
                        <h3 data-type="header" class="mb-0 text-dark">
                            {{producto.name}}
                        </h3>
                        <br>
                        <p data-type="text" class="card-text">{{producto.description}}</p>
                        <div class="d-flex justify-content-between align-items-center">
                            <div class="btn-group">
                                <button type="button" class="btn btn-sm btn-outline-secondary">Detalles</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</ng-template>